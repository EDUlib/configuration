M	playbooks/openedx_native.yml
	changements pour les repos et les versions utilisées
	SANDBOX_ENABLE_INSIGHTS: false
	SANDBOX_ENABLE_NOTES: true
	#####    - oauth_client_setup
M	playbooks/roles/analytics_api/defaults/main.yml
	ANALYTICS_API_DEFAULT_HOST: 'xx.xx.xx.xx'
	ANALYTICS_API_REPORTS_HOST: 'xx.xx.xx.xx'
	ANALYTICS_API_ELASTICSEARCH_LEARNERS_HOST: 'xx.xx.xx.xx'
	adresse IP de notre dorsal
M	playbooks/roles/common_vars/defaults/main.yml
	COMMON_GIT_PATH: 'EDUlib'  # git path prefix
M	playbooks/roles/demo/defaults/main.yml
	demo_repo: "https://{{ COMMON_GIT_MIRROR }}/EDUlib/edx-demo-course.git"
M	playbooks/roles/discovery/defaults/main.yml
	DISCOVERY_MYSQL: 'xx.xx.xx.xx'
	DISCOVERY_MYSQL_REPLICA_HOST: 'xx.xx.xx.xx'
	DISCOVERY_MYSQL_CONN_MAX_AGE: 60 (la ligne est inversée avec une autre)
	adresse IP de notre dorsal
M	playbooks/roles/ecommerce/defaults/main.yml
	16 GROSSES DIFFÉRENCES
	PATH: "EDUlib"
	VERSION: "edulib-juniper.alpha1"
	ECOMMERCE_DATABASE_USER: notre username
	ECOMMERCE_DATABASE_HOST: xx.xx.xx.xx
	ECOMMERCE_DATABASE_CONN_MAX_AGE: 60 (la ligne est inversée avec une autre)
	ECOMMERCE_VERSION: "edulib-juniper.rc1"
	ECOMMERCE_LANGUAGE_CODE: 'fr'
	ECOMMERCE_EDX_API_KEY: 'blah.blah.blah'  # This should match the value set for edxapp
	ECOMMERCE_LMS_URL_ROOT: 'https://cours-virginie.edulib.org'
	  - ISSUER: "https://cours-virginie.edulib.org/oauth2"
    	    AUDIENCE: "lms-key"
	    SECRET_KEY: "blah.blah.blah"
	    AUDIENCE: "lms-key"
	ECOMMERCE_OSCAR_FROM_EMAIL: 'facturation@edulib.org'
	# Paysafe
	ECOMMERCE_PAYSAFE_API_KEY: 'SET-ME-PLEASE'
	ECOMMERCE_PAYSAFE_API_PASSWORD: 'SET-ME-PLEASE'
	ECOMMERCE_PAYSAFE_ACCOUNT_NUMBER: 'SET-ME-PLEASE'
	ECOMMERCE_PAYSAFE_ENVIRONMENT: 'SET-ME-PLEASE'
	ECOMMERCE_PAYSAFE_RECEIPT_PATH: 'PAYMENT_PROCESSOR_RECEIPT_PATH'
	ECOMMERCE_PAYSAFE_CANCEL_CHECKOUT_PATH: 'PAYMENT_PROCESSOR_CANCEL_PATH'
	ECOMMERCE_PAYSAFE_ECOMMERCE_PATH: 'SET-ME-PLEASE'
	    paysafe:
              api_key: '{{ ECOMMERCE_PAYSAFE_API_KEY }}'
              api_password: '{{ ECOMMERCE_PAYSAFE_API_PASSWORD }}'
              account_number: '{{ ECOMMERCE_PAYSAFE_ACCOUNT_NUMBER }}'
              environment: '{{ ECOMMERCE_PAYSAFE_ENVIRONMENT }}'
              receipt_path: '{{ ECOMMERCE_PAYSAFE_RECEIPT_PATH }}'
              cancel_checkout_path: '{{ ECOMMERCE_PAYSAFE_CANCEL_CHECKOUT_PATH }}'
              cancel_ecommerce_path: '{{ ECOMMERCE_PAYSAFE_ECOMMERCE_PATH }}'
	#####ECOMMERCE_CORS_ORIGIN_WHITELIST: []
	#####  CORS_ORIGIN_WHITELIST: "{{ ECOMMERCE_CORS_ORIGIN_WHITELIST }}"
	adresse IP de notre dorsal xx.xx.xx.xx
	notre clé API blah.blah.blah
A	playbooks/roles/ecommerce/defaults/main.yml.juniper.orig
	on conserve une copie du fichier original en raison des changements
M	playbooks/roles/ecommerce/meta/main.yml
	remet comme edX
A	playbooks/roles/ecommerce/meta/main.yml.orig
	on peut retirer celui-ci
M	playbooks/roles/edx_ansible/defaults/main.yml
	edx_ansible_source_repo: https://github.com/EDUlib/configuration.git
M	playbooks/roles/edx_notes_api/defaults/main.yml
	EDX_NOTES_API_DATASTORE_NAME: "notes"
	EDX_NOTES_API_MYSQL_HOST: 'xx.xx.xx.xx'
	EDX_NOTES_API_SECRET_KEY: "secret à mettre"
	EDX_NOTES_API_CLIENT_ID: "ID à mettre"
	EDX_NOTES_API_CLIENT_SECRET: "secret à mettre"
	EDX_NOTES_API_VERSION: edulib-juniper.rc1
	EDX_NOTES_API_ALLOWED_HOSTS:
	  - localhost
  	  - 10.0.0.71
          - cours-virginie.edulib.org
	PATH: "EDUlib"
	VERSION: "edulib-juniper.rc1"
	adresse IP de notre dorsal xx.xx.xx.xx
A	playbooks/roles/edx_notes_api/defaults/main.yml.juniper.orig
	on conserve une copie du fichier original en raison des changements
M	playbooks/roles/edx_notes_api/tasks/main.yml
	    DB_MIGRATION_USER='notes001'
            DB_MIGRATION_PASS='secret'
          #####when: migrate_db is defined and migrate_db|lower == "yes"
	  #####run_once: yes
M	playbooks/roles/edxapp/defaults/main.yml
	EDXAPP_MONGO_HOSTS: 'xx.xx.xx.xx'
	EDXAPP_MYSQL_HOST: 'xx.xx.xx.xx'
	EDXAPP_EDXAPP_SECRET_KEY: "DUMMY KEY CHANGE BEFORE GOING TO PRODUCTION"  # Commented out to ensure secure defaults
	adresse IP de notre dorsal xx.xx.xx.xx
M	playbooks/roles/forum/defaults/main.yml
	FORUM_MONGO_HOSTS:
  	   - "xx.xx.xx.xx"
	FORUM_MONGO_URL: "mongodb://{{ FORUM_MONGO_USER }}:{{ FORUM_MONGO_PASSWORD }}@{%- for host in FORUM_MONGO_HOSTS -%}{{ host }}:{{ FORUM_MONGO_PORT }}{%- if not loop.last -%},{%- endif -%}{%- endfor -%}/{{ FORUM_MONGO_DATABASE }}{%- if FORUM_MONGO_TAGS -%}?tags={{ FORUM_MONGO_TAGS }}{%- endif -%}"
	FORUM_SINATRA_ENV: "production"
	FORUM_RACK_ENV: "production"
	adresse IP de notre dorsal xx.xx.xx.xx
M	playbooks/roles/git_clone/defaults/main.yml
	GIT_CLONE_NO_LOGGING: false
M	playbooks/roles/git_clone/tasks/main.yml
	    repo: "https://{{ item.DOMAIN }}/EDUlib/{{ item.REPO }}"
M	playbooks/roles/mongo_2_6/templates/mongodb.conf.j2
	auth = false
M	playbooks/roles/mongo_3_2/defaults/main.yml
	mongo_configure_replica_set: false
M	playbooks/roles/mongo_3_2/tasks/main.yml
	## This will error when run on a new replica set, so we ignore_errors
	## and connect anonymously next.
	#- name: determine if there is a replica set already
	#  mongodb_rs_status:
	#    host: "{{ ansible_lo['ipv4']['address'] }}"
	#    username: "{{ MONGO_ADMIN_USER }}"
	#    password: "{{ MONGO_ADMIN_PASSWORD }}"
	#  run_once: true
	#  register: authed_replica_set_already_configured
	#  ignore_errors: true
	#  tags:
	#    - "manage"
	#    - "manage:db-replication"
	    skip_replica_set: true
	    skip_replica_set: true
M	playbooks/roles/mongo_3_2/templates/mongod.conf.j2
	dbPath: /databases/wiredTiger
	#####security:
	#####  authorization: {{ MONGO_AUTH | ternary("enabled", "disabled") }}
	#####  keyFile: {{ mongo_key_file }}
M	playbooks/roles/xqueue/defaults/main.yml
	XQUEUE_MYSQL_HOST: 'xx.xx.xx.xx'
	XQUEUE_VERSION: "edulib-juniper.rc1"
        adresse IP de notre dorsal xx.xx.xx.xx
M	util/install/ansible-bootstrap.sh
	  CONFIGURATION_REPO="https://github.com/EDUlib/configuration.git"
	  CONFIGURATION_VERSION="edulib-juniper.rc1"
M	util/install/native.sh
	CONFIGURATION_VERSION="edulib-juniper.rc1"
	OPENEDX_RELEASE="edulib-juniper.rc1"
	#####CONFIGURATION_VERSION=${CONFIGURATION_VERSION-$OPENEDX_RELEASE}
	
	##
	## MODIFS PAR EDULIB 20200421
	##
	#####CONFIGURATION_VERSION=${CONFIGURATION_VERSION-$OPENEDX_RELEASE}
	if [ -n "$OPENEDX_RELEASE" ]; then
  	EXTRA_VARS="-e edx_platform_version=$OPENEDX_RELEASE \
    	-e certs_version=$OPENEDX_RELEASE \
    	-e forum_version=$OPENEDX_RELEASE \
    	-e xqueue_version=$OPENEDX_RELEASE \
    	-e configuration_version=$OPENEDX_RELEASE \
    	-e demo_version=$OPENEDX_RELEASE \
    	-e NOTIFIER_VERSION=$OPENEDX_RELEASE \
    	-e INSIGHTS_VERSION=$OPENEDX_RELEASE \
    	-e ANALYTICS_API_VERSION=$OPENEDX_RELEASE \
    	-e ECOMMERCE_VERSION=$OPENEDX_RELEASE \
    	-e ECOMMERCE_WORKER_VERSION=$OPENEDX_RELEASE \
    	-e DISCOVERY_VERSION=$OPENEDX_RELEASE \
    	-e THEMES_VERSION=$OPENEDX_RELEASE \
  	$EXTRA_VARS"
	fi
	
	#####CONFIGURATION_VERSION=${CONFIGURATION_VERSION-$OPENEDX_RELEASE}

	git clone https://github.com/EDUlib/configuration



